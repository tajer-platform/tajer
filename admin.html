<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© - ØªØ§Ø¬Ø±</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #1a1a1a; color: white; padding: 20px; }
        .admin-container { max-width: 600px; margin: auto; background: #2c2c2c; padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .price-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; background: #3d3d3d; padding: 10px; border-radius: 8px; }
        input { width: 120px; padding: 8px; border-radius: 5px; border: none; text-align: center; font-weight: bold; }
        button { width: 100%; padding: 15px; background: #28a745; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; transition: 0.3s; }
        button:hover { background: #218838; }
        h2 { text-align: center; color: #ffc107; }
    </style>
</head>
<body>

<div class="admin-container">
    <h2>âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø³ÙˆÙ‚</h2>
    <div id="prices-list">
        </div>
    <button onclick="updateAllPrices()">Ø­ÙØ¸ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù„Ù„Ø¬Ù…ÙŠØ¹ ğŸš€</button>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCI_0-7KsqnssqkOSkNVK0FmuRokDNXriE",
        authDomain: "tajer-app-e1b97.firebaseapp.com",
        projectId: "tajer-app-e1b97",
        storageBucket: "tajer-app-e1b97.firebasestorage.app",
        messagingSenderId: "92669858022",
        appId: "1:92669858022:web:a1223e9121190815066b27"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const items = [
        { id: "chicken", name: "Ø¯Ø¬Ø§Ø¬Ø©", default: 25000 },
        { id: "sheep", name: "Ø®Ø±ÙˆÙ Ø¨Ù„Ø¯ÙŠ", default: 1200000 },
        { id: "cow", name: "Ø¨Ù‚Ø±Ø© Ø­Ù„ÙˆØ¨", default: 8500000 },
        { id: "bees", name: "Ø®Ù„ÙŠØ© Ù†Ø­Ù„", default: 150000 },
        { id: "horse", name: "Ø­ØµØ§Ù† Ø¹Ø±Ø¨ÙŠ", default: 25000000 }
    ];

    // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    const list = document.getElementById('prices-list');
    items.forEach(item => {
        list.innerHTML += `
            <div class="price-row">
                <span>${item.name}</span>
                <input type="number" id="input-${item.id}" placeholder="${item.default}">
            </div>
        `;
    });

    window.updateAllPrices = async () => {
        const newPrices = {};
        items.forEach(item => {
            const val = document.getElementById(`input-${item.id}`).value;
            newPrices[item.id] = val ? parseInt(val) : item.default;
        });

        try {
            await setDoc(doc(db, "global_settings", "market_prices"), newPrices);
            alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØ±Ø§Ù‡Ø§ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙˆØ±Ø§Ù‹.");
        } catch (e) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«: " + e.message); }
    };
</script>
</body>
</html>